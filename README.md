# RocketMQ

## 1、MQ介绍

### 1.1 为什么要用MQ

消息队列是一种“先进先出”的数据结构

![image.png](https://cdn.nlark.com/yuque/0/2021/png/12759906/1622383247093-9c1dc02c-4f0b-4e20-95fa-bba3d80f4404.png)

其应用场景主要包含一下三个方面：



- 应用解耦

系统的耦合性越高，容错就越低。以电商应用为例，用户创建订单后，如果耦合调用库存系统，物流系统，支付系统，任何一个子系统出了故障或因为升级等原因暂时不可用，都会造成下单操作异常，影响用户体验。

![image.png](https://cdn.nlark.com/yuque/0/2021/png/12759906/1622383522175-62dea9ea-112f-454b-9e38-bde125a1c77b.png)

使用消息队列解耦合，系统的耦合性就会提高了。比如物流系统发生故障，需要几分钟才能来修复，在这段时间内，物流系统要处理的数据被缓存到消息队列中，用户的下单操作正常完成。当物流系统回复后，补充处理存在消息队列中的订单消息即可，终端系统感知不到物流系统发生过几分钟故障。



- 流量削峰
- 数据分发

